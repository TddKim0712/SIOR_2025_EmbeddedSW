# 🔩 SIOR_2025_EmbeddedSW 🔩
2025 임베디드SW 공모전 준비, 팀 <볼트앤너트>

## 손상된 너트 분석기  🔩
- 목적 및 동기
    - 처음 시작은 로봇 동아리에서 이미 사용되었던 부품의 너트를 재사용하자는 취지에서 비롯되었다.
    - 부품 재사용 자체의 의의도 크지만, 실제 산업까지 고려한다면 너트/볼트는 손상된 정도에 따라 재사용이 불가한 경우가 많다.
    - 문제는 육안으로 너트의 나사산 손상이 확인되지 않으며, 직접 사람이 다 돌려보면서 사용가능 여부를 따져야 하기에 이를 자동화하기로 하였다.

- 작동 시퀀스
    - 제네바 기어가 회전시키는 원판에 8개의 너트를 미리 준비시킬 수 있게 하여 검증기계의 자동화를 준비하였다.
    - 사용자가 원판을 돌리고, 검사 대상인 너트의 상태를 확인하기 위해 INPUT OUTPUT 데이터를 추려낸다.
    - INPUT은 스로틀 전압, 즉 토크이며 OUTPUT은 RPM, 즉 실제 회전 움직임을 의미한다.
    - 다양한 너트들의 해당 관계를 학습한 모델은 실시간으로 너트를 삽입하여 얻는 데이터를 바탕으로 사용가능한 너트인지 아닌지를 구분할 수 있다.
    -  
- <img width="300" height="500" alt="스크린샷 2025-09-03 205507" src="https://github.com/user-attachments/assets/1c022624-8508-4270-a210-36c8ab3a496b" />


- </b> 배선도 </b>
- <img width="948" height="706" alt="image" src="https://github.com/user-attachments/assets/06292bac-9dbd-405f-b571-c9025ea391ca" />

-  </b> 설계도 </b>
- <img width="1538" height="1334" alt="image" src="https://github.com/user-attachments/assets/98e110f1-708a-4ff0-9fda-53b620284495" />

## Code Tree
- HW_main/
  - HW_main.ino
- logs/
  - csv files (automatically generated by main.py)
  - xgb_model.pkl
- summary_merge.py
- data_processing.ipynb
- xgboost.ipynb
- main.py

## 작동 시퀀스
<img width="2076" height="1177" alt="손상검증시퀀스" src="https://github.com/user-attachments/assets/7db112a7-c8c0-4070-aa1c-7048b0605f2f" />

- 하드웨어 제어
  - Arduino Mega
  - 모터드라이버, DC 모터, 스텝 모터 제어
  - HW_main.ino 기반 제어 코드

 - 파이썬 인터페이스
   - 카메라 연동 및 pyserial 이용한 하드웨어 명령 송신
   - 키보드 제어, csv 데이터 추출
   -  프레임 분석 및 점 트래킹으로 RPM 계산
   
